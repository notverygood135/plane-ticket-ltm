<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<html>
    <body>
        <section class="h-100 bg-dark">
            <div class="container py-5 h-100">
              <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col">
                  <div class="card card-registration my-4">
                    <div class="row g-0" style="display: flex;">
                      <div class="col-xl-6 d-none d-xl-block" style="width:50%;height: 100vh;">
                        <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/img4.webp"
                          alt="Sample photo" class="img-fluid"
                          style="border-top-left-radius: .25rem; border-bottom-left-radius: .25rem;" 
                          width="90%" height="100%"/>
                      </div>
                      <div class="col-xl-6">
                        <div class="card-body p-md-5 text-black">
                          <h3 class="mb-5 text-uppercase">Account registration form</h3>
          
                      
          
                          <div class="form-outline mb-4">
                            <label class="form-label" for="form3Example8">Email</label>
                            <input type="email" id="email" name="email" class="form-control form-control-lg" />
                            
                          </div>
          
    
                          <div class="form-outline mb-4">
                            <label class="form-label" for="form3Example97">Password</label>
                            <input type="password" id="password" name="password" class="form-control form-control-lg" />
                            
                          </div>
                          <div class="form-outline mb-4">
                            <label class="form-label" for="form3Example97">Confirm password</label>
                            <input type="password" id="confirm" name="confirm" class="form-control form-control-lg" />
                            
                          </div>
          
                          <div class="d-flex justify-content-end pt-3">
                            <button type="button" class="btn btn-light btn-lg">Reset all</button>
                            <button type="button" class="btn btn-warning btn-lg ms-2" onclick="submit()">Submit form</button>
                          </div>
          
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        <script>
            function submit() {
                let email = document.getElementById("email").value;
                let password = document.getElementById("password").value;
                let confirm = document.getElementById("confirm").value;
                console.log(`email :${email}, password:${password}`);
                fetch("/register", {
                    method: "POST",
                    headers: {
                        "Content-Type": "text/html"
                    },
                    body: `email=${email}&password=${password}&confirm=${confirm}`
                })
                .then(response => {
                    return(response.status);
                })
                .then(status => {
                    if (status == 200) {
                        window.location.replace("http://localhost:8001/login");
                    }
                    else {
                        alert("Invalid email or password");
                    }
                })
            }
        </script>
    </body>
</html>